{"parse":{"title":"Sliding window protocol","pageid":12824727,"revid":857387067,"text":{"*":"<div class=\"mw-parser-output\"><table class=\"plainlinks metadata ambox ambox-style ambox-More_footnotes\" role=\"presentation\"><tbody><tr><td class=\"mbox-image\"><div style=\"width:52px\"><img alt=\"\" src=\"//upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Text_document_with_red_question_mark.svg/40px-Text_document_with_red_question_mark.svg.png\" width=\"40\" height=\"40\" srcset=\"//upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Text_document_with_red_question_mark.svg/60px-Text_document_with_red_question_mark.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Text_document_with_red_question_mark.svg/80px-Text_document_with_red_question_mark.svg.png 2x\" data-file-width=\"48\" data-file-height=\"48\" /></div></td><td class=\"mbox-text\"><div class=\"mbox-text-span\">This article includes a <a href=\"/wiki/Wikipedia:Citing_sources\" title=\"Wikipedia:Citing sources\">list of references</a>, but <b>its sources remain unclear</b> because it has <b>insufficient <a href=\"/wiki/Wikipedia:Citing_sources#Inline_citations\" title=\"Wikipedia:Citing sources\">inline citations</a></b>.<span class=\"hide-when-compact\"> Please help to <a href=\"/wiki/Wikipedia:WikiProject_Fact_and_Reference_Check\" title=\"Wikipedia:WikiProject Fact and Reference Check\">improve</a> this article by <a href=\"/wiki/Wikipedia:When_to_cite\" title=\"Wikipedia:When to cite\">introducing</a> more precise citations.</span>  <small><i>(August 2010)</i></small><small class=\"hide-when-compact\"><i> (<a href=\"/wiki/Help:Maintenance_template_removal\" title=\"Help:Maintenance template removal\">Learn how and when to remove this template message</a>)</i></small></div></td></tr></tbody></table>\n<p>A <b>sliding window protocol</b> is a feature of packet-based <a href=\"/wiki/Data_transmission\" title=\"Data transmission\">data transmission</a> <a href=\"/wiki/Protocol_(computing)\" class=\"mw-redirect\" title=\"Protocol (computing)\">protocols</a>. Sliding window protocols are used where reliable in-order delivery of packets is required, such as in the <a href=\"/wiki/Data_Link_Layer\" class=\"mw-redirect\" title=\"Data Link Layer\">Data Link Layer</a> (<a href=\"/wiki/OSI_model#Layer_2:_Data_Link_Layer\" title=\"OSI model\">OSI layer 2</a>) as well as in the <a href=\"/wiki/Transmission_Control_Protocol\" title=\"Transmission Control Protocol\">Transmission Control Protocol</a> (TCP).\n</p><p>Conceptually, each portion of the transmission (packets in most data link layers, but bytes in TCP) is assigned a unique consecutive sequence number, and the receiver uses the numbers to place received packets in the correct order, discarding duplicate packets and identifying missing ones.  The problem with this is that there is no limit on the size of the sequence number that can be required.\n</p><p>By placing limits on the number of packets that can be transmitted or received at any given time, a sliding window protocol allows an unlimited number of packets to be communicated using fixed-size sequence numbers.\nThe term \"window\" on the transmitter side represents the logical boundary of the total number of packets yet to be acknowledged by the receiver. The receiver informs the transmitter in each acknowledgment packet the current maximum receiver buffer size (window boundary). The TCP header uses a 16 bit field to report the receive window size to the sender. Therefore, the largest window that can be used is 2<sup>16</sup> = 64 kilobytes. In slow-start mode, the transmitter starts with low packet count and increases the number of packets in each transmission after receiving acknowledgment packets from receiver. For every <a href=\"/wiki/Acknowledgement_(data_networks)\" title=\"Acknowledgement (data networks)\">ack packet</a> received, the window slides by one packet (logically) to transmit one new packet. When the window threshold is reached, the transmitter sends one packet for one ack packet received. If the window limit is 10 packets then in slow start mode the transmitter may start transmitting one packet followed by two packets (before transmitting two packets, one packet ack has to be received), followed by three packets and so on until 10 packets. But after reaching 10 packets, further transmissions are restricted to one packet transmitted for one ack packet received. In a simulation this appears as if the window is moving by one packet distance for every ack packet received. On the receiver side also the window moves one packet for every packet received. \nThe sliding window method ensures that traffic <a href=\"/wiki/Network_congestion\" title=\"Network congestion\">congestion</a> on the network is avoided. The application layer will still be offering data for transmission to TCP without worrying about the network traffic congestion issues as the TCP on sender and receiver side implement sliding windows of packet buffer. The window size may vary dynamically depending on network traffic.\n</p><p>For the highest possible <a href=\"/wiki/Throughput\" title=\"Throughput\">throughput</a>, it is important that the transmitter is not forced to stop sending by the sliding window protocol earlier than one <a href=\"/wiki/Round-trip_delay_time\" title=\"Round-trip delay time\">round-trip delay time</a> (RTT).  The limit on the amount of data that it can send before stopping to wait for an <a href=\"/wiki/Acknowledgement_(data_networks)\" title=\"Acknowledgement (data networks)\">acknowledgment</a> should be larger than the <a href=\"/wiki/Bandwidth-delay_product\" title=\"Bandwidth-delay product\">bandwidth-delay product</a> of the communications link.  If it is not, the protocol will limit the effective <a href=\"/wiki/Bandwidth_(computing)\" title=\"Bandwidth (computing)\">bandwidth</a> of the link.\n</p>\n<div id=\"toc\" class=\"toc\"><input type=\"checkbox\" role=\"button\" id=\"toctogglecheckbox\" class=\"toctogglecheckbox\" style=\"display:none\" /><div class=\"toctitle\" lang=\"en\" dir=\"ltr\"><h2>Contents</h2><span class=\"toctogglespan\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\"></label></span></div>\n<ul>\n<li class=\"toclevel-1 tocsection-1\"><a href=\"#Motivation\"><span class=\"tocnumber\">1</span> <span class=\"toctext\">Motivation</span></a></li>\n<li class=\"toclevel-1 tocsection-2\"><a href=\"#Protocol_operation\"><span class=\"tocnumber\">2</span> <span class=\"toctext\">Protocol operation</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-3\"><a href=\"#Transmitter_operation\"><span class=\"tocnumber\">2.1</span> <span class=\"toctext\">Transmitter operation</span></a></li>\n<li class=\"toclevel-2 tocsection-4\"><a href=\"#Receiver_operation\"><span class=\"tocnumber\">2.2</span> <span class=\"toctext\">Receiver operation</span></a></li>\n<li class=\"toclevel-2 tocsection-5\"><a href=\"#Sequence_number_range_required\"><span class=\"tocnumber\">2.3</span> <span class=\"toctext\">Sequence number range required</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-6\"><a href=\"#Examples\"><span class=\"tocnumber\">3</span> <span class=\"toctext\">Examples</span></a>\n<ul>\n<li class=\"toclevel-2 tocsection-7\"><a href=\"#The_simplest_sliding_window:_stop-and-wait\"><span class=\"tocnumber\">3.1</span> <span class=\"toctext\">The simplest sliding window: stop-and-wait</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-8\"><a href=\"#Ambiguity_example\"><span class=\"tocnumber\">3.1.1</span> <span class=\"toctext\">Ambiguity example</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-2 tocsection-9\"><a href=\"#Go-Back-N\"><span class=\"tocnumber\">3.2</span> <span class=\"toctext\">Go-Back-N</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-10\"><a href=\"#Ambiguity_example_2\"><span class=\"tocnumber\">3.2.1</span> <span class=\"toctext\">Ambiguity example</span></a></li>\n</ul>\n</li>\n<li class=\"toclevel-2 tocsection-11\"><a href=\"#Selective_repeat\"><span class=\"tocnumber\">3.3</span> <span class=\"toctext\">Selective repeat</span></a>\n<ul>\n<li class=\"toclevel-3 tocsection-12\"><a href=\"#Ambiguity_example_3\"><span class=\"tocnumber\">3.3.1</span> <span class=\"toctext\">Ambiguity example</span></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"toclevel-1 tocsection-13\"><a href=\"#Extensions\"><span class=\"tocnumber\">4</span> <span class=\"toctext\">Extensions</span></a></li>\n<li class=\"toclevel-1 tocsection-14\"><a href=\"#See_also\"><span class=\"tocnumber\">5</span> <span class=\"toctext\">See also</span></a></li>\n<li class=\"toclevel-1 tocsection-15\"><a href=\"#References\"><span class=\"tocnumber\">6</span> <span class=\"toctext\">References</span></a></li>\n<li class=\"toclevel-1 tocsection-16\"><a href=\"#External_links\"><span class=\"tocnumber\">7</span> <span class=\"toctext\">External links</span></a></li>\n</ul>\n</div>\n\n<h2><span class=\"mw-headline\" id=\"Motivation\">Motivation</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/index.php?title=Sliding_window_protocol&amp;action=edit&amp;section=1\" title=\"Edit section: Motivation\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n<p>In any communication protocol based on <a href=\"/wiki/Automatic_repeat_request\" title=\"Automatic repeat request\">automatic repeat request</a> for <a href=\"/wiki/Error_control\" class=\"mw-redirect\" title=\"Error control\">error control</a>, the receiver must acknowledge received packets.  If the transmitter does not receive an acknowledgment within a reasonable time, it re-sends the data.\n</p><p>A transmitter that does not hear an acknowledgment cannot know if the receiver actually received the packet; it may be that it was lost or damaged in transmission. If <a href=\"/wiki/Error_detection\" class=\"mw-redirect\" title=\"Error detection\">error detection</a> reveals corruption, the packet will be ignored by the receiver and no acknowledgement will be sent. Similarly, the receiver is usually uncertain about whether its acknowledgements are being received. It may be that an acknowledgment was sent, but was lost or corrupted in the transmission medium.  In this case, the receiver must acknowledge the retransmission to prevent the data being continually resent, but must otherwise ignore it.\n</p>\n<h2><span class=\"mw-headline\" id=\"Protocol_operation\">Protocol operation</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/index.php?title=Sliding_window_protocol&amp;action=edit&amp;section=2\" title=\"Edit section: Protocol operation\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n<p>The transmitter and receiver each have a current sequence number <i>n<sub>t</sub></i> and <i>n<sub>r</sub></i>, respectively.  They each also have a window size <i>w<sub>t</sub></i> and <i>w<sub>r</sub></i>.  The window sizes may vary, but in simpler implementations they are fixed.  The window size must be greater than zero for any progress to be made.\n</p><p>As typically implemented, <i>n<sub>t</sub></i> is the next packet to be transmitted, i.e. the sequence number of the first packet not yet transmitted.  Likewise, <i>n<sub>r</sub></i> is the first packet not yet received.  Both numbers are <a href=\"/wiki/Monotonically_increasing\" class=\"mw-redirect\" title=\"Monotonically increasing\">monotonically increasing</a> with time; they only ever increase.\n</p><p>The receiver may also keep track of the highest sequence number yet received; the variable <i>n<sub>s</sub></i> is one more than the sequence number of the highest sequence number received.  For simple receivers that only accept packets in order (<i>w<sub>r</sub></i> = 1), this is the same as <i>n<sub>r</sub></i>, but can be greater if <i>w<sub>r</sub></i> &gt; 1.  Note the distinction: all packets below <i>n<sub>r</sub></i> have been received, no packets above <i>n<sub>s</sub></i> have been received, and between <i>n<sub>r</sub></i> and <i>n<sub>s</sub></i>, some packets have been received.\n</p><p>When the receiver receives a packet, it updates its variables appropriately and transmits an acknowledgment with the new <i>n<sub>r</sub></i>.  The transmitter keeps track of the highest acknowledgment it has received <i>n<sub>a</sub></i>.  The transmitter knows that all packets up to, but not including <i>n<sub>a</sub></i> have been received, but is uncertain about packets between <i>n<sub>a</sub></i> and <i>n<sub>s</sub></i>; i.e. <i>n<sub>a</sub></i> \u2264 <i>n<sub>r</sub></i> \u2264 <i>n<sub>s</sub></i>.\n</p><p>The sequence numbers always obey the rule that <i>n<sub>a</sub></i> \u2264 <i>n<sub>r</sub></i> \u2264 <i>n<sub>s</sub></i> \u2264 <i>n<sub>t</sub></i> \u2264 <i>n<sub>a</sub></i> + <i>w<sub>t</sub></i>.  That is:\n</p>\n<ul><li><i>n<sub>a</sub></i> \u2264 <i>n<sub>r</sub></i>: The highest acknowledgement received by the transmitter cannot be higher than the highest <i>n<sub>r</sub></i> acknowledged by the receiver.</li>\n<li><i>n<sub>r</sub></i> \u2264 <i>n<sub>s</sub></i>: The span of fully received packets cannot extend beyond the end of the partially received packets.</li>\n<li><i>n<sub>s</sub></i> \u2264 <i>n<sub>t</sub></i>: The highest packet received cannot be higher than the highest packet sent.</li>\n<li><i>n<sub>t</sub></i> \u2264 <i>n<sub>a</sub></i> + <i>w<sub>t</sub></i>: The highest packet sent is limited by the highest acknowledgement received and the transmit window size.</li></ul>\n<h3><span class=\"mw-headline\" id=\"Transmitter_operation\">Transmitter operation</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/index.php?title=Sliding_window_protocol&amp;action=edit&amp;section=3\" title=\"Edit section: Transmitter operation\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h3>\n<p>Whenever the transmitter has data to send, it may transmit up to <i>w<sub>t</sub></i> packets ahead of the latest acknowledgment <i>n<sub>a</sub></i>.   That is, it may transmit packet number <i>n<sub>t</sub></i> as long as <i>n<sub>t</sub></i> &lt; <i>n<sub>a</sub></i>+<i>w<sub>t</sub></i>.\n</p><p>In the absence of a communication error, the transmitter soon receives an acknowledgment for all the packets it has sent, leaving <i>n<sub>a</sub></i> equal to <i>n<sub>t</sub></i>.  If this does not happen after a reasonable delay, the transmitter must retransmit the packets between <i>n<sub>a</sub></i> and <i>n<sub>t</sub></i>.\n</p><p>Techniques for defining \"reasonable delay\" can be extremely elaborate, but they only affect efficiency; the basic reliability of the sliding window protocol does not depend on the details.\n</p>\n<h3><span class=\"mw-headline\" id=\"Receiver_operation\">Receiver operation</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/index.php?title=Sliding_window_protocol&amp;action=edit&amp;section=4\" title=\"Edit section: Receiver operation\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h3>\n<p>Every time a packet numbered <i>x</i> is received, the receiver checks to see if it falls in the receive window, <i>n<sub>r</sub></i> \u2264 <i>x</i> &lt; <i>n<sub>r</sub></i>+<i>w<sub>r</sub></i>.  (The simplest receivers only have to keep track of one value <i>n<sub>r</sub></i>=<i>n<sub>s</sub></i>.)  If it falls within the window, the receiver accepts it.  If it is numbered <i>n<sub>r</sub></i>, the receive sequence number is increased by 1, and possibly more if further consecutive packets were previously received and stored.  If <i>x</i> &gt; <i>n<sub>r</sub></i>, the packet is stored until all preceding packets have been received.<sup id=\"cite_ref-1\" class=\"reference\"><a href=\"#cite_note-1\">&#91;1&#93;</a></sup>  If <i>x</i>\u2265<i>n<sub>s</sub></i>, the latter is updated to <i>n<sub>s</sub></i>=<i>x</i>+1.\n</p><p>If the packet's number is not within the receive window, the receiver discards it and does not modify <i>n<sub>r</sub></i> or <i>n<sub>s</sub></i>.\n</p><p>Whether the packet was accepted or not, the receiver transmits an acknowledgment containing the current <i>n<sub>r</sub></i>.  (The acknowledgment may also include information about additional packets received between <i>n<sub>r</sub></i> or <i>n<sub>s</sub></i>, but that only helps efficiency.)\n</p><p>Note that there is no point having the receive window <i>w<sub>r</sub></i> larger than the transmit window <i>w<sub>t</sub></i>, because there is no need to worry about receiving a packet that will never be transmitted; the useful range is 1 \u2264 <i>w<sub>r</sub></i> \u2264 <i>w<sub>t</sub></i>.\n</p>\n<h3><span class=\"mw-headline\" id=\"Sequence_number_range_required\">Sequence number range required</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/index.php?title=Sliding_window_protocol&amp;action=edit&amp;section=5\" title=\"Edit section: Sequence number range required\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h3>\n<div role=\"note\" class=\"hatnote navigation-not-searchable\">Main article: <a href=\"/wiki/Serial_number_arithmetic\" title=\"Serial number arithmetic\">serial number arithmetic</a></div>\n<div class=\"thumb tright\"><div class=\"thumbinner\" style=\"width:402px;\"><a href=\"/wiki/File:Sliding_Window.svg\" class=\"image\"><img alt=\"\" src=\"//upload.wikimedia.org/wikipedia/commons/thumb/3/32/Sliding_Window.svg/400px-Sliding_Window.svg.png\" width=\"400\" height=\"250\" class=\"thumbimage\" srcset=\"//upload.wikimedia.org/wikipedia/commons/thumb/3/32/Sliding_Window.svg/600px-Sliding_Window.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/3/32/Sliding_Window.svg/800px-Sliding_Window.svg.png 2x\" data-file-width=\"640\" data-file-height=\"400\" /></a>  <div class=\"thumbcaption\"><div class=\"magnify\"><a href=\"/wiki/File:Sliding_Window.svg\" class=\"internal\" title=\"Enlarge\"></a></div>Sequence numbers modulo 4, with <i>w<sub>r</sub></i>=1. Initially, <i>n<sub>t</sub></i>=<i>n<sub>r</sub></i>=0</div></div></div>\n<p>So far, the protocol has been described as if sequence numbers are of unlimited size, ever-increasing.  However, rather than transmitting the full sequence number <i>x</i> in messages, it is possible to transmit only <i>x</i>&#160;mod&#160;<i>N</i>, for some finite <i>N</i>.  (<i>N</i> is usually a <a href=\"/wiki/Power_of_2\" class=\"mw-redirect\" title=\"Power of 2\">power of 2</a>.)\n</p><p>For example, the transmitter will only receive acknowledgments in the range <i>n<sub>a</sub></i> to <i>n<sub>t</sub></i>, inclusive.  Since it guarantees that <i>n<sub>t</sub></i>\u2212<i>n<sub>a</sub></i>&#160;\u2264&#160;<i>w<sub>t</sub></i>, there are at most <i>w<sub>t</sub></i>+1 possible sequence numbers that could arrive at any given time.  Thus, the transmitter can unambiguously decode the sequence number as long as <i>N</i>&#160;&gt;&#160;<i>w<sub>t</sub></i>.\n</p><p>A stronger constraint is imposed by the receiver.  The operation of the protocol depends on the receiver being able to reliably distinguish new packets (which should be accepted and processed) from retransmissions of old packets (which should be discarded, and the last acknowledgment retransmitted).  This can be done given knowledge of the transmitter's window size.  After receiving a packet numbered <i>x</i>, the receiver knows that <i>x</i>&#160;&lt;&#160;<i>n<sub>a</sub></i>+<i>w<sub>t</sub></i>, so <i>n<sub>a</sub></i>&#160;&gt;&#160;<i>x</i>\u2212<i>w<sub>t</sub></i>.  Thus, packets numbered <i>x</i>\u2212<i>w<sub>t</sub></i> will never again be retransmitted.\n</p><p>The lowest sequence number we will ever receive in future is <i>n<sub>s</sub></i>\u2212<i>w<sub>t</sub></i>\n</p><p>The receiver also knows that the transmitter's <i>n<sub>a</sub></i> cannot be higher than the highest acknowledgment ever sent, which is <i>n<sub>r</sub></i>.  So the highest sequence number we could possibly see is <i>n<sub>r</sub></i>+<i>w<sub>t</sub></i>&#160;\u2264&#160;<i>n<sub>s</sub></i>+<i>w<sub>t</sub></i>.\n</p><p>Thus, there are 2<i>w<sub>t</sub></i> different sequence numbers that the receiver can receive at any one time.  It might therefore seem that we must have <i>N</i>&#160;\u2265&#160;2<i>w<sub>t</sub></i>.  However, the actual limit is lower.\n</p><p>The additional insight is that the receiver does not need to distinguish between sequence numbers that are too low (less than <i>n<sub>r</sub></i>) or that are too high (greater than or equal to <i>n<sub>s</sub></i>+<i>w<sub>r</sub></i>).  In either case, the receiver ignores the packet except to retransmit an acknowledgment.  Thus, it is only necessary that <i>N</i>&#160;\u2265&#160;<i>w<sub>t</sub></i>+<i>w<sub>r</sub></i>.  As it is common to have <i>w<sub>r</sub></i>&lt;<i>w<sub>t</sub></i> (e.g. see <a href=\"#Go-Back-N\">Go-Back-N</a> below), this can permit larger <i>w<sub>t</sub></i> within a fixed <i>N</i>.\n</p>\n<h2><span class=\"mw-headline\" id=\"Examples\">Examples</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/index.php?title=Sliding_window_protocol&amp;action=edit&amp;section=6\" title=\"Edit section: Examples\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n<h3><span class=\"mw-headline\" id=\"The_simplest_sliding_window:_stop-and-wait\">The simplest sliding window: stop-and-wait</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/index.php?title=Sliding_window_protocol&amp;action=edit&amp;section=7\" title=\"Edit section: The simplest sliding window: stop-and-wait\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h3>\n<p>Although commonly distinguished from the sliding-window protocol, the <a href=\"/wiki/Stop-and-wait_ARQ\" title=\"Stop-and-wait ARQ\">stop-and-wait ARQ</a> protocol is actually the simplest possible implementation of it.  The transmit window is 1 packet, and the receive window is 1 packet.  Thus, <i>N</i>=1+1=2 possible sequence numbers (conveniently represented by a single <a href=\"/wiki/Bit\" title=\"Bit\">bit</a>) are required.\n</p>\n<h4><span class=\"mw-headline\" id=\"Ambiguity_example\">Ambiguity example</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/index.php?title=Sliding_window_protocol&amp;action=edit&amp;section=8\" title=\"Edit section: Ambiguity example\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h4>\n<p>The transmitter alternately sends packets marked \"odd\" and \"even\".  The acknowledgments likewise say \"odd\" and \"even\".  Suppose that the transmitter, having sent an odd packet, did not wait for an odd acknowledgment, and instead immediately sent the following even packet.  It might then receive an acknowledgment saying \"expecting an odd packet next\".  This would leave the transmitter in a quandary: has the receiver received both of the packets, or neither?\n</p>\n<h3><span class=\"mw-headline\" id=\"Go-Back-N\">Go-Back-N</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/index.php?title=Sliding_window_protocol&amp;action=edit&amp;section=9\" title=\"Edit section: Go-Back-N\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h3>\n<p><a href=\"/wiki/Go-Back-N_ARQ\" title=\"Go-Back-N ARQ\">Go-Back-N ARQ</a> is the sliding window protocol with <i>w<sub>t</sub></i>&gt;1, but a fixed <i>w<sub>r</sub></i>=1.  The receiver refuses to accept any packet but the next one in sequence.  If a packet is lost in transit, following packets are ignored until the missing packet is retransmitted, a minimum loss of one <a href=\"/wiki/Round_trip_time\" class=\"mw-redirect\" title=\"Round trip time\">round trip time</a>.  For this reason, it is inefficient on links that suffer frequent packet loss.\n</p>\n<h4><span class=\"mw-headline\" id=\"Ambiguity_example_2\">Ambiguity example</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/index.php?title=Sliding_window_protocol&amp;action=edit&amp;section=10\" title=\"Edit section: Ambiguity example\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h4>\n<p>Suppose that we are using a 3-bit sequence number, such as is typical for <a href=\"/wiki/HDLC\" class=\"mw-redirect\" title=\"HDLC\">HDLC</a>.  This gives <i>N</i>=2\u00b3=8.  Since <i>w<sub>r</sub></i>=1, we must limit <i>w<sub>t</sub></i>\u22647.  This is because, after transmitting 7 packets, there are 8 possible results: Anywhere from 0 to 7 packets could have been received successfully.  This is 8 possibilities, and the transmitter needs enough information in the acknowledgment to distinguish them all.\n</p><p>If the transmitter sent 8 packets without waiting for acknowledgment, it could find itself in a quandary similar to the stop-and-wait case: does the acknowledgment mean that all 8 packets were received successfully, or none of them?\n</p>\n<h3><span class=\"mw-headline\" id=\"Selective_repeat\">Selective repeat</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/index.php?title=Sliding_window_protocol&amp;action=edit&amp;section=11\" title=\"Edit section: Selective repeat\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h3>\n<p>The most general case of the sliding window protocol is <a href=\"/wiki/Selective_Repeat_ARQ\" title=\"Selective Repeat ARQ\">Selective Repeat ARQ</a>.  This requires a much more capable receiver, which can accept packets with sequence numbers higher than the current <i>n<sub>r</sub></i> and store them until the gap is filled in.\n</p><p>The advantage, however, is that it is not necessary to discard following correct data for one round-trip time before the transmitter can be informed that a retransmission is required.  This is therefore preferred for links with low reliability and/or a high <a href=\"/wiki/Bandwidth-delay_product\" title=\"Bandwidth-delay product\">bandwidth-delay product</a>.\n</p><p>The window size <i>w<sub>r</sub></i> need only be larger than the number of <i>consecutive</i> lost packets that can be tolerated.  Thus, small values are popular; <i>w<sub>r</sub></i>=2 is common.\n</p>\n<h4><span class=\"mw-headline\" id=\"Ambiguity_example_3\">Ambiguity example</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/index.php?title=Sliding_window_protocol&amp;action=edit&amp;section=12\" title=\"Edit section: Ambiguity example\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h4>\n<p>The extremely popular <a href=\"/wiki/High-Level_Data_Link_Control\" title=\"High-Level Data Link Control\">HDLC protocol</a> uses a 3-bit sequence number, and has optional provision for selective repeat.  However, if selective repeat is to be used, the requirement that <i>n<sub>t</sub></i>+<i>n<sub>r</sub></i>&#160;\u2264&#160;8 must be maintained; if <i>w<sub>r</sub></i> is increased to 2, <i>w<sub>t</sub></i> must be decreased to 6.\n</p><p>Suppose that <i>w<sub>r</sub></i>&#8201;=2, but an unmodified transmitter is used with <i>w<sub>t</sub></i>&#8201;=7, as is typically used with the go-back-N variant of HDLC.  Further suppose that the receiver begins with <i>n<sub>r</sub></i>&#8201;=<i>n<sub>s</sub></i>&#8201;=0.\n</p><p>Now suppose that the receiver sees the following series of packets (all modulo 8):\n</p>\n<dl><dd>0 1 2 3 4 5 6 <i>(pause)</i> 0</dd></dl>\n<p>Because <i>w<sub>r</sub></i>&#8201;=2, the receiver will accept and store the final packet 0 (thinking it is packet 8 in the series), while requesting a retransmission of packet 7.  However, it is also possible that the transmitter failed to receive any acknowledgments and has retransmitted packet 0.  In this latter case, the receiver would accept the wrong packet as packet 8.\n.  \nThe solution is for the transmitter to limit <i>w<sub>t</sub></i>&#8201;\u22646.  With this restriction, the receiver knows, after receiving packet 6, that the transmitter's <i>n<sub>a</sub></i>&#8201;\u22651, and thus the following packet numbered 0 must be packet 8.  If all acknowledgements were lost, then the transmitter would have to stop after packet 5.\n</p>\n<h2><span class=\"mw-headline\" id=\"Extensions\">Extensions</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/index.php?title=Sliding_window_protocol&amp;action=edit&amp;section=13\" title=\"Edit section: Extensions\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n<p>There are many ways that the protocol can be extended:\n</p>\n<ul><li>The above examples assumed that packets are never reordered in transmission; they may be lost in transit (<a href=\"/wiki/Error_detection\" class=\"mw-redirect\" title=\"Error detection\">error detection</a> makes corruption equivalent to loss), but will never appear out of order.  The protocol can be extended to support packet reordering, as long as the distance can be bounded; the sequence number modulus <i>N</i> must be expanded by the maximum misordering distance.</li>\n<li>It is possible to not acknowledge every packet, as long as an acknowledgment is sent eventually if there is a pause.  For example, TCP normally acknowledges every second packet.\n<ul><li>It is common to inform the transmitter immediately if a gap in the packet sequence is detected.  HDLC has a special REJ (reject) packet for this.</li></ul></li>\n<li>The transmit and receive window sizes may be changed during communication, as long as their sum remains within the limit of <i>N</i>.  Normally, they are each assigned maximum values that respect that limit, but the working value at any given time may be less than the maximum.  In particular:\n<ul><li>It is common to reduce the transmit window size to slow down transmission to match the link's speed, avoiding <a href=\"/w/index.php?title=Saturation_(telecommunications)&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Saturation (telecommunications) (page does not exist)\">saturation</a> or <a href=\"/wiki/Network_congestion\" title=\"Network congestion\">congestion</a>.</li>\n<li>One common simplification of selective-repeat is so called SREJ-REJ ARQ.  This operates with <i>w<sub>r</sub></i>=2 and buffers packets following a gap, but only allows a single lost packet; while waiting for that packet, <i>w<sub>r</sub></i>=1 and if a second packet is lost, no more packets are buffered.  This gives most of the performance benefit of the full selective-repeat protocol, with a simpler implementation.</li></ul></li></ul>\n<h2><span class=\"mw-headline\" id=\"See_also\">See also</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/index.php?title=Sliding_window_protocol&amp;action=edit&amp;section=14\" title=\"Edit section: See also\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n<ul><li><a href=\"/wiki/Federal_Standard_1037C\" title=\"Federal Standard 1037C\">Federal Standard 1037C</a></li>\n<li><a href=\"/wiki/Compound_TCP\" title=\"Compound TCP\">Compound TCP</a></li>\n<li><a href=\"/wiki/Serial_number_arithmetic\" title=\"Serial number arithmetic\">Serial number arithmetic</a></li></ul>\n<h2><span class=\"mw-headline\" id=\"References\">References</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/index.php?title=Sliding_window_protocol&amp;action=edit&amp;section=15\" title=\"Edit section: References\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n<div class=\"reflist\" style=\"list-style-type: decimal;\">\n<div class=\"mw-references-wrap\"><ol class=\"references\">\n<li id=\"cite_note-1\"><span class=\"mw-cite-backlink\"><b><a href=\"#cite_ref-1\">^</a></b></span> <span class=\"reference-text\">Peterson, Larry L. &amp; Davie, Bruce S. \"<a rel=\"nofollow\" class=\"external text\" href=\"http://www.ebook3000.com/Computer-Networks--A-Systems-Approach_8497.html\">Computer Networks: A Systems Approach</a>\", Morgan Kaufmann, 2000. <a href=\"/wiki/International_Standard_Book_Number\" title=\"International Standard Book Number\">ISBN</a>&#160;<a href=\"/wiki/Special:BookSources/1-55860-577-0\" title=\"Special:BookSources/1-55860-577-0\">1-55860-577-0</a></span>\n</li>\n</ol></div></div>\n<ul><li>Comer, Douglas E. \"Internetworking with TCP/IP, Volume 1: Principles, Protocols, and Architecture\", Prentice Hall, 1995. <a href=\"/wiki/International_Standard_Book_Number\" title=\"International Standard Book Number\">ISBN</a>&#160;<a href=\"/wiki/Special:BookSources/0-13-216987-8\" title=\"Special:BookSources/0-13-216987-8\">0-13-216987-8</a></li>\n<li>Peterson, Larry L. &amp; Davie, Bruce S. \"Computer Networks: A Systems Approach\", Morgan Kaufmann, 2000. <a href=\"/wiki/International_Standard_Book_Number\" title=\"International Standard Book Number\">ISBN</a>&#160;<a href=\"/wiki/Special:BookSources/1558605142\" title=\"Special:BookSources/1558605142\">1558605142</a></li></ul>\n<h2><span class=\"mw-headline\" id=\"External_links\">External links</span><span class=\"mw-editsection\"><span class=\"mw-editsection-bracket\">[</span><a href=\"/w/index.php?title=Sliding_window_protocol&amp;action=edit&amp;section=16\" title=\"Edit section: External links\">edit</a><span class=\"mw-editsection-bracket\">]</span></span></h2>\n<ul><li><a class=\"external mw-magiclink-rfc\" rel=\"nofollow\" href=\"https://tools.ietf.org/html/rfc1323\">RFC 1323</a> - TCP Extensions for High Performance</li>\n<li><a rel=\"nofollow\" class=\"external text\" href=\"https://lwn.net/Articles/92727/\">TCP window scaling and broken routers</a>, 2004</li>\n<li><a rel=\"nofollow\" class=\"external text\" href=\"http://www2.rad.com/networks/2004/sliding_window/\">Sliding Window Demo</a> (<a href=\"/wiki/Macromedia_Flash\" class=\"mw-redirect\" title=\"Macromedia Flash\">Flash</a> required)</li></ul>\n\n<!-- \nNewPP limit report\nParsed by mw1227\nCached time: 20180831104646\nCache expiry: 1900800\nDynamic content: false\nCPU time usage: 0.172 seconds\nReal time usage: 0.216 seconds\nPreprocessor visited node count: 982/1000000\nPreprocessor generated node count: 0/1500000\nPost\u2010expand include size: 7837/2097152 bytes\nTemplate argument size: 1369/2097152 bytes\nHighest expansion depth: 16/40\nExpensive parser function count: 1/500\nUnstrip recursion depth: 0/20\nUnstrip post\u2010expand size: 644/5000000 bytes\nNumber of Wikibase entities loaded: 0/400\nLua time usage: 0.038/10.000 seconds\nLua memory usage: 1.39 MB/50 MB\n-->\n<!--\nTransclusion expansion time report (%,ms,calls,template)\n100.00%  143.976      1 -total\n 54.25%   78.108      1 Template:More_footnotes\n 32.28%   46.471      1 Template:Ambox\n 28.69%   41.307      3 Template:ISBN\n 25.13%   36.180      1 Template:Reflist\n 10.24%   14.742      3 Template:Catalog_lookup_link\n  8.89%   12.795      1 Template:Main_article\n  7.54%   10.855     11 Template:Yesno-no\n  6.86%    9.874      3 Template:Error-small\n  4.10%    5.908     11 Template:Yesno\n-->\n\n<!-- Saved in parser cache with key enwiki:pcache:idhash:12824727-0!canonical and timestamp 20180831104646 and revision id 857387067\n -->\n</div>"},"langlinks":[{"lang":"ar","url":"https://ar.wikipedia.org/wiki/%D9%86%D8%A7%D9%81%D8%B0%D8%A9_%D9%85%D9%86%D8%B2%D9%84%D9%82%D8%A9","langname":"Arabic","autonym":"\u0627\u0644\u0639\u0631\u0628\u064a\u0629","*":"\u0646\u0627\u0641\u0630\u0629 \u0645\u0646\u0632\u0644\u0642\u0629"},{"lang":"cs","url":"https://cs.wikipedia.org/wiki/Protokol_s_posuvn%C3%BDm_ok%C3%A9nkem","langname":"Czech","autonym":"\u010de\u0161tina","*":"Protokol s posuvn\u00fdm ok\u00e9nkem"},{"lang":"de","url":"https://de.wikipedia.org/wiki/Sliding_Window","langname":"German","autonym":"Deutsch","*":"Sliding Window"},{"lang":"el","url":"https://el.wikipedia.org/wiki/Sliding_Window_Protocol","langname":"Greek","autonym":"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac","*":"Sliding Window Protocol"},{"lang":"es","url":"https://es.wikipedia.org/wiki/Ventana_deslizante","langname":"Spanish","autonym":"espa\u00f1ol","*":"Ventana deslizante"},{"lang":"ko","url":"https://ko.wikipedia.org/wiki/%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%94%A9_%EC%9C%88%EB%8F%84","langname":"Korean","autonym":"\ud55c\uad6d\uc5b4","*":"\uc2ac\ub77c\uc774\ub529 \uc708\ub3c4"},{"lang":"it","url":"https://it.wikipedia.org/wiki/Finestra_scorrevole","langname":"Italian","autonym":"italiano","*":"Finestra scorrevole"},{"lang":"mk","url":"https://mk.wikipedia.org/wiki/Sliding_window_protocol","langname":"Macedonian","autonym":"\u043c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438","*":"Sliding window protocol"},{"lang":"ja","url":"https://ja.wikipedia.org/wiki/%E3%82%B9%E3%83%A9%E3%82%A4%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E3%82%A6%E3%82%A3%E3%83%B3%E3%83%89%E3%82%A6","langname":"Japanese","autonym":"\u65e5\u672c\u8a9e","*":"\u30b9\u30e9\u30a4\u30c7\u30a3\u30f3\u30b0\u30a6\u30a3\u30f3\u30c9\u30a6"},{"lang":"pt","url":"https://pt.wikipedia.org/wiki/Protocolo_de_janelas_deslizantes","langname":"Portuguese","autonym":"portugu\u00eas","*":"Protocolo de janelas deslizantes"}],"categories":[{"sortkey":"","hidden":"","*":"Articles_lacking_in-text_citations_from_August_2010"},{"sortkey":"","hidden":"","*":"All_articles_lacking_in-text_citations"},{"sortkey":"","*":"Communication"},{"sortkey":"","*":"Data_transmission"},{"sortkey":"","hidden":"","*":"Pages_using_RFC_magic_links"}],"links":[{"ns":14,"exists":"","*":"Category:Articles lacking in-text citations from August 2010"},{"ns":0,"exists":"","*":"Acknowledgement (data networks)"},{"ns":0,"exists":"","*":"Automatic repeat request"},{"ns":0,"exists":"","*":"Bandwidth-delay product"},{"ns":0,"exists":"","*":"Bandwidth (computing)"},{"ns":0,"exists":"","*":"Bit"},{"ns":0,"exists":"","*":"Compound TCP"},{"ns":0,"exists":"","*":"Data Link Layer"},{"ns":0,"exists":"","*":"Data transmission"},{"ns":0,"exists":"","*":"Error control"},{"ns":0,"exists":"","*":"Error detection"},{"ns":0,"exists":"","*":"Federal Standard 1037C"},{"ns":0,"exists":"","*":"Go-Back-N ARQ"},{"ns":0,"exists":"","*":"HDLC"},{"ns":0,"exists":"","*":"High-Level Data Link Control"},{"ns":0,"exists":"","*":"International Standard Book Number"},{"ns":0,"exists":"","*":"Macromedia Flash"},{"ns":0,"exists":"","*":"Monotonically increasing"},{"ns":0,"exists":"","*":"Network congestion"},{"ns":0,"exists":"","*":"OSI model"},{"ns":0,"exists":"","*":"Power of 2"},{"ns":0,"exists":"","*":"Protocol (computing)"},{"ns":0,"exists":"","*":"Round-trip delay time"},{"ns":0,"exists":"","*":"Round trip time"},{"ns":0,"exists":"","*":"Selective Repeat ARQ"},{"ns":0,"exists":"","*":"Serial number arithmetic"},{"ns":0,"exists":"","*":"Stop-and-wait ARQ"},{"ns":0,"exists":"","*":"Throughput"},{"ns":0,"exists":"","*":"Transmission Control Protocol"},{"ns":0,"*":"Saturation (telecommunications)"},{"ns":4,"exists":"","*":"Wikipedia:Citing sources"},{"ns":4,"exists":"","*":"Wikipedia:When to cite"},{"ns":4,"exists":"","*":"Wikipedia:WikiProject Fact and Reference Check"},{"ns":12,"exists":"","*":"Help:Maintenance template removal"}],"templates":[{"ns":10,"exists":"","*":"Template:More footnotes"},{"ns":10,"exists":"","*":"Template:Ambox"},{"ns":10,"exists":"","*":"Template:Yesno-no"},{"ns":10,"exists":"","*":"Template:Yesno"},{"ns":10,"exists":"","*":"Template:Main other"},{"ns":10,"exists":"","*":"Template:Main article"},{"ns":10,"exists":"","*":"Template:Main"},{"ns":10,"exists":"","*":"Template:Reflist"},{"ns":10,"exists":"","*":"Template:ISBN"},{"ns":10,"exists":"","*":"Template:Catalog lookup link"},{"ns":10,"exists":"","*":"Template:Trim"},{"ns":10,"exists":"","*":"Template:Error-small"},{"ns":10,"exists":"","*":"Template:Tl"},{"ns":828,"exists":"","*":"Module:Unsubst"},{"ns":828,"exists":"","*":"Module:Message box"},{"ns":828,"exists":"","*":"Module:No globals"},{"ns":828,"exists":"","*":"Module:Yesno"},{"ns":828,"exists":"","*":"Module:Arguments"},{"ns":828,"exists":"","*":"Module:Message box/configuration"},{"ns":828,"exists":"","*":"Module:Category handler"},{"ns":828,"exists":"","*":"Module:Category handler/data"},{"ns":828,"exists":"","*":"Module:Category handler/config"},{"ns":828,"exists":"","*":"Module:Category handler/shared"},{"ns":828,"exists":"","*":"Module:Category handler/blacklist"},{"ns":828,"exists":"","*":"Module:Namespace detect/data"},{"ns":828,"exists":"","*":"Module:Namespace detect/config"},{"ns":828,"exists":"","*":"Module:Check for unknown parameters"},{"ns":828,"exists":"","*":"Module:Main"},{"ns":828,"exists":"","*":"Module:Hatnote"},{"ns":828,"exists":"","*":"Module:Hatnote list"},{"ns":828,"exists":"","*":"Module:Check isxn"},{"ns":828,"exists":"","*":"Module:Error"}],"images":["Text_document_with_red_question_mark.svg","Sliding_Window.svg"],"externallinks":["http://www.ebook3000.com/Computer-Networks--A-Systems-Approach_8497.html","https://lwn.net/Articles/92727/","http://www2.rad.com/networks/2004/sliding_window/"],"sections":[{"toclevel":1,"level":"2","line":"Motivation","number":"1","index":"1","fromtitle":"Sliding_window_protocol","byteoffset":3331,"anchor":"Motivation"},{"toclevel":1,"level":"2","line":"Protocol operation","number":"2","index":"2","fromtitle":"Sliding_window_protocol","byteoffset":4215,"anchor":"Protocol_operation"},{"toclevel":2,"level":"3","line":"Transmitter operation","number":"2.1","index":"3","fromtitle":"Sliding_window_protocol","byteoffset":6714,"anchor":"Transmitter_operation"},{"toclevel":2,"level":"3","line":"Receiver operation","number":"2.2","index":"4","fromtitle":"Sliding_window_protocol","byteoffset":7529,"anchor":"Receiver_operation"},{"toclevel":2,"level":"3","line":"Sequence number range required","number":"2.3","index":"5","fromtitle":"Sliding_window_protocol","byteoffset":9161,"anchor":"Sequence_number_range_required"},{"toclevel":1,"level":"2","line":"Examples","number":"3","index":"6","fromtitle":"Sliding_window_protocol","byteoffset":11964,"anchor":"Examples"},{"toclevel":2,"level":"3","line":"The simplest sliding window: stop-and-wait","number":"3.1","index":"7","fromtitle":"Sliding_window_protocol","byteoffset":11978,"anchor":"The_simplest_sliding_window:_stop-and-wait"},{"toclevel":3,"level":"4","line":"Ambiguity example","number":"3.1.1","index":"8","fromtitle":"Sliding_window_protocol","byteoffset":12361,"anchor":"Ambiguity_example"},{"toclevel":2,"level":"3","line":"Go-Back-N","number":"3.2","index":"9","fromtitle":"Sliding_window_protocol","byteoffset":12849,"anchor":"Go-Back-N"},{"toclevel":3,"level":"4","line":"Ambiguity example","number":"3.2.1","index":"10","fromtitle":"Sliding_window_protocol","byteoffset":13275,"anchor":"Ambiguity_example_2"},{"toclevel":2,"level":"3","line":"Selective repeat","number":"3.3","index":"11","fromtitle":"Sliding_window_protocol","byteoffset":13971,"anchor":"Selective_repeat"},{"toclevel":3,"level":"4","line":"Ambiguity example","number":"3.3.1","index":"12","fromtitle":"Sliding_window_protocol","byteoffset":14732,"anchor":"Ambiguity_example_3"},{"toclevel":1,"level":"2","line":"Extensions","number":"4","index":"13","fromtitle":"Sliding_window_protocol","byteoffset":16242,"anchor":"Extensions"},{"toclevel":1,"level":"2","line":"See also","number":"5","index":"14","fromtitle":"Sliding_window_protocol","byteoffset":17942,"anchor":"See_also"},{"toclevel":1,"level":"2","line":"References","number":"6","index":"15","fromtitle":"Sliding_window_protocol","byteoffset":18035,"anchor":"References"},{"toclevel":1,"level":"2","line":"External links","number":"7","index":"16","fromtitle":"Sliding_window_protocol","byteoffset":18330,"anchor":"External_links"}],"parsewarnings":[],"displaytitle":"Sliding window protocol","iwlinks":[],"properties":[{"name":"wikibase_item","*":"Q592860"}]}}